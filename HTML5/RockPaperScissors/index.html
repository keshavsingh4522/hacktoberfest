<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css" />
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="/assets/paper.svg">
    <title>Rock Paper Scissors</title>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Poppins&display=swap");

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            background: #1f283f;
            color: white;
            font-family: "Poppins", sans-serif;
        }

        button {
            cursor: pointer;
        }

        body>div {
            background: linear-gradient(180deg, #0c1038 50%, rgba(56, 71, 205, 0) 150%);
            width: 90vw;
            margin: auto;
            min-height: 100vh;
            padding: 0.5% 2% 2%;
        }

        h2 {
            margin: auto;
            padding: 1.5%;
            background: rgba(196, 196, 196, 0.14);
            border-radius: 5px;
            text-align: center;
            width: 35%;
        }

        .reset-btn {
            margin: 2% auto 0;
            text-align: center;
        }

        .reset-btn i {
            font-size: x-large;
            cursor: pointer;
        }

        .main {
            display: flex;
            width: 80%;
            margin: auto;
        }

        .main>div {
            width: 45%;
            margin: 0% auto;
            text-align: center;
        }

        .main>div>div {
            background: rgba(196, 196, 196, 0.14);
            padding: 5% 1%;
            border-radius: 5px;
        }

        .icons-small {
            display: flex;
            justify-content: space-between;
            width: 50%;
            margin: auto;
        }

        .icons-small>i {
            font-size: 50px;
        }

        .icon-main {
            border: 10px solid #0c103875;
            width: 130px;
            height: 130px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 7% auto 2%;
        }

        .icon-main i {
            font-size: 70px;
        }

        .score-main {
            text-align: center;
        }

        .score {
            background: rgba(196, 196, 196, 0.46);
            width: max-content;
            padding: 1% 3%;
            margin: 0 auto;
            font-size: x-large;
            border-radius: 3px;
        }

        .rules button,
        .modal-main button {
            position: absolute;
            bottom: 3%;
            right: 6%;
            background: rgba(196, 196, 196, 0.46);
            color: white;
            border: none;
            outline: none;
            padding: 0.5% 2%;
            font-size: large;
            border-radius: 5px;
        }

        .modal-main button {
            position: unset;
            padding: 1% 3%;
            border-radius: 3px;
            background: #1f283f;
        }

        p {
            font-size: large;
        }

        #player .far {
            color: #1e90ff;
            cursor: pointer;
        }

        #player .choice {
            color: rgba(60, 135, 221, 0.6);
            font-size: 1.5vw;
        }

        #computer .far {
            color: rgb(209, 27, 27);
        }

        #computer .choice {
            color: rgba(209, 27, 27, 0.6);
            font-size: 1.5vw;
        }

        .selected {
            color: black !important;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .modal-main {
            z-index: 25;
            position: fixed;
            background: rgba(196, 196, 196, 0.14);
            min-width: 30%;
            height: auto;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 5px;
            padding: 2%;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: black;
        }

        .display-none {
            display: none;
        }

        .display-block {
            display: block;
        }

        .modal-main>i {
            position: absolute;
            right: 5%;
            top: 5%;
            color: white;
        }

        ul {
            background: white;
            padding: 5%;
        }

        .modal-main h3 {
            background: #0c1038;
            color: white;
            padding: 1% 3%;
            margin: 0;
        }

        #resultImg {
            height: 200px;
        }

        #modal2 .modal-main {
            background: rgba(196, 196, 196, 0.14);
        }

        #computerRock,
        #computerPaper,
        #computerScissors {
            cursor: not-allowed;
        }
    </style>

</head>

<body>
    <div class="container">
        <div class="head">
            <h2>Rock Paper Scissors</h2>
        </div>
        <div class="score-main">
            <!-- <p>Score:</p> -->
            <h4 class="result-text" id="resultText">Let's Play!</h4>
            <div class="score">
                <span id="player-score"></span>&nbsp;:&nbsp;<span id="computer-score"></span>
            </div>
        </div>
        <div class="main">
            <div>
                <p>Your Choice <span class="choice" id="player-choice"></span></p>
                <div class="game-cont">
                    <div class="icons-small">
                        <i class="far fa-hand-rock" id="playerRock" title='Rock' onclick="select('rock')"></i>
                        <i class="far fa-hand-paper" id="playerPaper" title='Paper' onclick="select('paper')"></i>
                        <i class="far fa-hand-scissors" id="playerScissors" title='Scissors'
                            onclick="select('scissors')"></i>
                    </div>
                    <div class="icon-main" id="playerBorder">
                        <i class="far fa-hand-rock" id="playerMainChoice" title='Rock'></i>
                    </div>
                </div>
            </div>
            <div>
                <p>Computer Choice <span class="choice" id="computer-choice"></span></p>
                <div class="game-cont">
                    <div class="icons-small">
                        <i class="far fa-hand-rock" id="computerRock" title='Rock'></i>
                        <i class="far fa-hand-paper" id="computerPaper" title='Paper'></i>
                        <i class="far fa-hand-scissors" id="computerScissors" title='Scissors'></i>
                    </div>
                    <div class="icon-main" id="computerBorder">
                        <i class="far fa-hand-rock" id="computerMainChoice" title='Rock'></i>
                    </div>
                </div>
            </div>
        </div>
        <div class="reset-btn">
            <i class="fas fa-sync-alt reset-icon" title="Reset" onclick='resetAll()'></i>
        </div>
        <div class="rules">
            <button onclick="show()">Rules</button>
        </div>
        <div class="modal display-none" id="modal">
            <div class="modal-main">
                <i class="fa fa-times" onclick='show()' aria-hidden="true"></i>
                <h3>Rules</h3>
                <ul>
                    <li>Scissors wins against Paper and looses against Rock</li>
                    <li>Rock wins against Scissors but looses against Paper</li>
                    <li>Paper wins over Rock but looses against Scissors</li>
                </ul>
            </div>
        </div>
        <div class="modal display-none" id="modal2">
            <div class="modal-main">
                <img id="resultImg" />
                <button onclick='playAgain()'>Play Again</button>
            </div>
        </div>
    </div>
    <script>
        const playerScore = document.getElementById("player-score");
        const playerChoiceEl = document.getElementById("player-choice");
        const mainPlayerChoice = document.getElementById("playerMainChoice");
        const computerScore = document.getElementById("computer-score");
        const computerChoiceEl = document.getElementById("computer-choice");
        const mainComputerChoice = document.getElementById("computerMainChoice");
        const playerBorder = document.getElementById("playerBorder");
        const computerBorder = document.getElementById("computerBorder");
        const resultText = document.getElementById("resultText");
        const resultImg = document.getElementById("resultImg");
        var modal = document.getElementById("modal");
        var modal2 = document.getElementById("modal2");

        const playerRock = document.getElementById("playerRock");
        const playerPaper = document.getElementById("playerPaper");
        const playerScissors = document.getElementById("playerScissors");
        const computerRock = document.getElementById("computerRock");
        const computerPaper = document.getElementById("computerPaper");
        const computerScissors = document.getElementById("computerScissors");
        const allGameIcons = document.querySelectorAll(".far");

        let computerChoice = "";
        let playerScoreNumber = 0;
        let computerScoreNumber = 0;
        let computerChoiceNumber = 0;

        const choices = {
            rock: {
                name: "Rock",
                defeats: ["scissors"],
            },
            paper: {
                name: "Paper",
                defeats: ["rock"],
            },
            scissors: {
                name: "Scissors",
                defeats: ["paper"],
            },
        };
        function resetAll() {
            playerScore.textContent = 0;
            computerScore.textContent = 0;
            playerChoiceEl.textContent = "";
            computerChoiceEl.textContent = "";
            resultText.textContent = "Let's Play!";
            playerBorder.style.borderColor = "#0c103875";
            computerBorder.style.borderColor = "#0c103875";
            resetSelected();
        }
        window.resetAll = resetAll;
        function updateScore(playerChoice) {
            if (playerChoice === computerChoice) {
                resultText.textContent = "It's a tie!";
                playerBorder.style.borderColor = "grey";
                computerBorder.style.borderColor = "grey";
            } else {
                const choice = choices[playerChoice];
                if (choice.defeats.indexOf(computerChoice) > -1) {
                    playerScoreNumber++;
                    resultText.textContent = "You Won!";
                    playerScore.textContent = playerScoreNumber;
                    playerBorder.style.borderColor = "#4EDB37BD";
                    computerBorder.style.borderColor = "#E11E1EBD";
                } else {
                    computerScoreNumber++;
                    resultText.textContent = "You lost :(";
                    computerScore.textContent = computerScoreNumber;
                    playerBorder.style.borderColor = "#E11E1EBD";
                    computerBorder.style.borderColor = "green";
                }
            }
            if (computerScoreNumber > 6 || playerScoreNumber > 6) {
                showHide();
                if (computerChoiceNumber > playerScoreNumber) {
                    resultImg.setAttribute("src", "assets/looser.gif");
                } else {
                    resultImg.setAttribute("src", "assets/winner.gif");
                }
            }
        }
        function showHide() {
            modal2.classList.contains("display-none")
                ? modal2.classList.replace("display-none", "display-block")
                : modal2.classList.replace("display-block", "display-none");
        }
        function playAgain() {
            playerScoreNumber = 0;
            computerScoreNumber = 0;
            resetAll();
            showHide();
        }
        function resetSelected() {
            allGameIcons.forEach((icon) => {
                icon.classList.remove("selected");
            });
        }
        function checkResult(playerChoice) {
            resetSelected();
            randomComputerChoice();
            displayComputerChoice();
            updateScore(playerChoice);
        }
        function randomComputerChoice() {
            computerChoiceNumber = Math.floor(Math.random() * 5) + 1;
            switch (computerChoiceNumber) {
                case 1:
                    computerChoice = "rock";
                    break;
                case 2:
                    computerChoice = "paper";
                    break;
                case 3:
                    computerChoice = "scissors";
                    break;
                default:
                    break;
            }
        }
        function displayComputerChoice() {
            switch (computerChoice) {
                case "rock":
                    computerRock.classList.add("selected");
                    computerChoiceEl.textContent = "(Rock)";
                    mainComputerChoice.removeAttribute("class");
                    mainComputerChoice.setAttribute("class", "far fa-hand-rock");
                    break;
                case "paper":
                    computerPaper.classList.add("selected");
                    computerChoiceEl.textContent = "(Paper)";
                    mainComputerChoice.removeAttribute("class");
                    mainComputerChoice.setAttribute("class", "far fa-hand-paper");
                    break;
                case "scissors":
                    computerScissors.classList.add("selected");
                    computerChoiceEl.textContent = "(Scissors)";
                    mainComputerChoice.removeAttribute("class");
                    mainComputerChoice.setAttribute("class", "far fa-hand-scissors");
                    break;
                default:
                    break;
            }
        }
        function select(playerChoice) {
            checkResult(playerChoice);
            switch (playerChoice) {
                case "rock":
                    playerRock.classList.add("selected");
                    playerChoiceEl.textContent = "(Rock)";
                    mainPlayerChoice.removeAttribute("class");
                    mainPlayerChoice.setAttribute("class", "far fa-hand-paper");
                    break;
                case "paper":
                    playerPaper.classList.add("selected");
                    playerChoiceEl.textContent = "(Paper)";
                    mainPlayerChoice.removeAttribute("class");
                    mainPlayerChoice.setAttribute("class", "far fa-hand-paper");
                    break;
                case "scissors":
                    playerScissors.classList.add("selected");
                    playerChoiceEl.textContent = "(Scissors)";
                    mainPlayerChoice.removeAttribute("class");
                    mainPlayerChoice.setAttribute("class", "far fa-hand-paper");
                    break;
                default:
                    break;
            }
        }

        function show() {
            modal.classList.contains("display-none")
                ? modal.classList.replace("display-none", "display-block")
                : modal.classList.replace("display-block", "display-none");
        }
        window.select = select;
        resetAll();

    </script>
</body>

</html>